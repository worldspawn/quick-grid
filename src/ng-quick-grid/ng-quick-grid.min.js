!function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=a(i),s=n(2),o=a(s),g=n(3),u=a(g),c=n(5),l=a(c),d=n(6),h=a(d);e["default"]=r["default"].module("ngQuickGrid",[]).directive("quickGrid",o["default"]).directive("quickPaging",u["default"]).directive("quickSort",l["default"]).factory("SearchModel",h["default"])},function(t,e){t.exports=angular},function(t,e){"use strict";function n(){return{restrict:"A",scope:!0,controllerAs:"grid",bindToController:!0,controller:["$scope","$element","$attrs",function(t,e,n){this.searchModel=t.$eval(n.gridModel)}]}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function i(){return{restrict:"A",require:["^quickGrid","quickPaging"],controller:["$scope",function(t){var e=this;this.maxItems=this.maxItems||10,this.startRange=[],this.endRange=[],this.midRange=[],this.drawStartRange=[],this.drawMidRange=[],this.drawEndRange=[];var n=t.$watch(function(){return e.searchModel},function(a,i){n(),n=null;var r;r=t.$watch(function(){return e.searchModel.pageCount.length},function(t,n){if(t!==n&&t>e.maxItems){e.startRange=[],e.endRange=[];var a,i=Math.floor((e.maxItems-3)/2);for(a=1;a<=i;a++)e.startRange.push(a);var r=t;if(e.maxItems%2===0){var s=t/2;e.midRange=[s-2,s-1,s]}else{var s=t/2;s%1==0?e.midRange=[s-1,s,s+1]:e.midRange=[s-.5,s+.5],r++}for(var a=r-i;a<=t;a++)e.endRange.push(a)}}),t.$watch(function(){return e.searchModel.paging.pageIndex},function(t,n){if(t!==n&&(t+=1,e.drawStartRange=e.startRange.slice(0),e.drawEndRange=e.endRange.slice(0),e.drawMidRange=e.midRange.slice(0),!(e.drawStartRange.indexOf(t)>-1||e.drawEndRange.indexOf(t)>-1)))if(e.drawStartRange[e.drawStartRange.length-1]!==t-1)if(e.drawEndRange[0]!==t+1)e.drawMidRange.indexOf(t)===-1&&(e.drawMidRange=[t-1,t,t+1]);else{e.drawEndRange.unshift(t),e.drawEndRange.unshift(t-1),e.drawMidRange=[];for(var a=e.drawStartRange[e.drawStartRange.length-1],i=e.maxItems-e.drawStartRange.length-e.drawEndRange.length,r=1;r<=i;r++)e.drawStartRange.push(a+r)}else{e.drawStartRange.push(t),e.drawStartRange.push(t+1),e.drawMidRange=[];for(var a=e.drawEndRange[0],i=e.maxItems-e.drawStartRange.length-e.drawEndRange.length,r=1;r<=i;r++)e.drawEndRange.unshift(a-r)}})})}],scope:{maxItems:"<?quickPaging"},controllerAs:"quickPaging",bindToController:!0,template:s["default"],link:function(t,e,n,a){var i=a[0],r=a[1];r.searchModel=i.searchModel}}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=a(r);e["default"]=i},function(t,e){t.exports='<nav ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems < quickPaging.searchModel.pageCount.length">\r\n\t<button type="button" class="btn btn-primary btn-sm" ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex - 1)" ng-disabled="0 === quickPaging.searchModel.paging.pageIndex">&laquo;</button>\r\n    <div class="btn-group startRange">\r\n    \t<button ng-repeat="x in quickPaging.drawStartRange track by $index" ng-click="quickPaging.searchModel.paging.toPage(x-1)" ng-class="{\'btn-primary\' :(x-1) === quickPaging.searchModel.paging.pageIndex}" class="btn btn-sm">{{x}}</button>\r\n    </div>\r\n    <span>...</span>\r\n    <div class="btn-group midRange" ng-if="quickPaging.drawMidRange.length > 0">\r\n        <button ng-repeat="x in quickPaging.drawMidRange track by $index" ng-click="quickPaging.searchModel.paging.toPage(x-1)" ng-class="{\'btn-primary\' :(x-1) === quickPaging.searchModel.paging.pageIndex}" class="btn btn-sm">{{x}}</button>\r\n\t</div>\r\n\t<span ng-if="quickPaging.drawMidRange.length > 0">...</span>\r\n\t<div class="btn-group endRange" ng-if="quickPaging.drawEndRange.length > 0">\r\n\t<button ng-repeat="x in quickPaging.drawEndRange track by $index" ng-click="quickPaging.searchModel.paging.toPage(x-1)" ng-class="{\'btn-primary\' :(x-1) === quickPaging.searchModel.paging.pageIndex}" class="btn btn-sm">{{x}}</button>\r\n\t</div>\r\n\t<button type="button" class="btn btn-primary btn-sm" ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex + 1)" ng-disabled="(quickPaging.searchModel.pageCount.length - 1) === quickPaging.searchModel.paging.pageIndex">&raquo;</button>\r\n</nav>\r\n\r\n<div class="btn-group" ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems >= quickPaging.searchModel.pageCount.length">\r\n  <button ng-repeat="x in quickPaging.searchModel.pageCount track by $index" ng-click="quickPaging.searchModel.paging.toPage($index)" ng-disabled="$index === quickPaging.searchModel.paging.pageIndex" class="btn btn-primary btn-sm">{{$index + 1}}</button>\r\n</div>\r\n\r\n'},function(t,e){"use strict";function n(t){return{restrict:"A",require:"^quickGrid",link:function(e,n,a,i){var r=a.quickSort,s=angular.element("<span ng-if=\"grid.searchModel.paging.sortBy.toLowerCase().indexOf('"+r.toLowerCase()+'\') === 0"><i class="glyphicon glyphicon-triangle-bottom" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') > -1"></i><i class="glyphicon glyphicon-triangle-top" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') === -1"></i></span>');n.append(t(s)(e)),n.on("click",function(){e.$apply(function(){i.searchModel.paging.sort(r)})})}}}Object.defineProperty(e,"__esModule",{value:!0}),n.$inject=["$compile"],e["default"]=n},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(){function t(e,a){n(this,t),this.value=e,this.operator=a}return a(t,[{key:"setNot",value:function(t){this.not=t}},{key:"toggleNot",value:function(){this.not=!this.not}},{key:"toJSON",value:function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return this.operator+t}}}]),t}(),r={"%":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return"%"+t+"%"}}},"%~":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return"%"+t}}},"~%":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return t+"%"}}},"()":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=[];return this.value.forEach(function(e){t.push(e)}),"("+t.join(",")+")"}}}};Object.keys(r).forEach(function(t){r[t].prototype=i});var s=function(){function t(e){n(this,t),this.sort(e)}return a(t,[{key:"sort",value:function(t){null===t||void 0===t?delete this.sortBy:t===this.sortBy?this.sortBy=t+" desc":this.sortBy=t}},{key:"toPage",value:function(t){t<0||(this.pageIndex=t)}}]),t}(),o=function(){function t(e,a,i){n(this,t),this.model=i||{},this.paging=new s(a),this.pageCount=[],this.filters={},this.callback=e}return a(t,[{key:"watch",value:function(t){return this.scope=t,this.attachOtherWatchers(),this.attachPagingWatch(),this}},{key:"addFilter",value:function(t,e,n){var a=r[e]||i;return this.filters[t]=new a(n,e),this}},{key:"apply",value:function(t){this.pagingWatchHandle&&this.pagingWatchHandle(),t&&(this.paging.pageIndex=0,this.paging.filterHash=null),this.callback(this).then(this.updatePaging.bind(this)).then(this.attachPagingWatch.bind(this))}},{key:"reset",value:function(){var t=this;this.modelWatchHandler&&this.modelWatchHandler(),this.filterWatchHandle&&this.filterWatchHandle(),Object.keys(this.filters).forEach(function(e){return t.filters[e].value=void 0}),Object.keys(this.model).forEach(function(e){return t.model[e]=void 0}),this.attachOtherWatchers(),this.apply(!0)}},{key:"toQueryString",value:function(){var t=this,e=[],n=0;return Object.keys(this.filters).forEach(function(a){var i=t.filters[a].toJSON();if(void 0!==i){var r=t.filters[a].not?"!":"",s="filters["+n++ +"]";e.push(s+".key="+escape(a)),e.push(s+".value="+escape(r+i))}}),this.model&&Object.keys(this.model).forEach(function(n){var a=t.model[n];void 0!==a&&null!==a&&(a.toJSON&&(a=a.toJSON()),e.push(escape(n)+"="+escape(a)))}),e.push("paging.pageIndex="+(this.paging.pageIndex||0)),e.push("paging.sortBy="+escape(this.paging.sortBy||"")),e.push("paging.filterHash="+escape(this.paging.filterHash||"")),e.join("&")}},{key:"toJSON",value:function(){var t=this,e={paging:this.paging,filters:this.filters};return Object.keys(this.model).forEach(function(n){e[n]=t.model[n]}),e}},{key:"attachOtherWatchers",value:function(){var t=this;this.modelWatchHandle=this.scope.$watch(function(){return t.model},this.onChange.bind(this),!0),this.filterWatchHandle=this.scope.$watch(function(){return t.filters},this.onChange.bind(this),!0)}},{key:"attachPagingWatch",value:function(){var t=this;this.scope&&(this.pagingWatchHandle=this.scope.$watch(function(){return t.paging},function(e,n){e.sortBy===n.sortBy&&e.pageIndex===n.pageIndex||t.apply(!1)},!0))}},{key:"updatePaging",value:function(t){null!==t.pageCount&&(this.pageCount=Array(t.pageCount)),this.paging.filterHash=t.filterHash}},{key:"onChange",value:function(t,e){t!==e&&this.apply(!0)}}]),t}();e["default"]=function(){return o}}]);
//# sourceMappingURL=ng-quick-grid.min.js.map