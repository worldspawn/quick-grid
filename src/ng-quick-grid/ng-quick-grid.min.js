!function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),r=n(i),s=a(2),g=n(s),o=a(3),l=n(o),c=a(5),u=n(c),d=a(6),h=n(d);t["default"]=r["default"].module("ngQuickGrid",[]).directive("quickGrid",g["default"]).directive("quickPaging",l["default"]).directive("quickSort",u["default"]).factory("SearchModel",h["default"])},function(e,t){e.exports=angular},function(e,t){"use strict";function a(){return{restrict:"A",scope:!0,controllerAs:"grid",bindToController:!0,controller:["$scope","$element","$attrs",function(e,t,a){this.searchModel=e.$eval(a.gridModel)}]}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){return{restrict:"A",require:["^quickGrid","quickPaging"],controller:["$scope",function(e){var t=this;this.maxItems=this.maxItems||10,this.startRange=[],this.endRange=[],this.midRange=[],this.drawStartRange=[],this.drawMidRange=[],this.drawEndRange=[];var a=e.$watch(function(){return t.searchModel},function(n,i){a(),a=null;var r;r=e.$watch(function(){return t.searchModel.pageCount.length},function(e,a){if(e!==a&&e>t.maxItems){t.startRange=[],t.endRange=[];var n,i=Math.floor((t.maxItems-3)/2);for(n=1;n<=i;n++)t.startRange.push(n);var r=e;if(t.maxItems%2===0){var s=e/2;s%1==0?t.midRange=[s-1,s,s+1]:t.midRange=[s-1.5,s-.5,s+.5]}else{var s=e/2;s%1==0?t.midRange=[s-1,s,s+1]:t.midRange=[s-1.5,s-.5,s+.5],r++}for(var n=r-i;n<=e;n++)t.endRange.push(n)}}),e.$watch(function(){return t.searchModel.paging.pageIndex},function(e,a){if(e+=1,t.drawStartRange=t.startRange.slice(0),t.drawEndRange=t.endRange.slice(0),t.drawMidRange=t.midRange.slice(0),!(t.drawStartRange.indexOf(e)>-1||t.drawEndRange.indexOf(e)>-1))if(t.drawStartRange[t.drawStartRange.length-1]!==e-1)if(t.drawEndRange[0]!==e+1)t.drawMidRange.indexOf(e)===-1&&(t.drawMidRange=[e-1,e,e+1]);else{t.drawEndRange.unshift(e),t.drawEndRange.unshift(e-1),t.drawMidRange=[];for(var n=t.drawStartRange[t.drawStartRange.length-1],i=t.maxItems-t.drawStartRange.length-t.drawEndRange.length,r=1;r<=i;r++)t.drawStartRange.push(n+r)}else{t.drawStartRange.push(e),t.drawStartRange.push(e+1),t.drawMidRange=[];for(var n=t.drawEndRange[0],i=t.maxItems-t.drawStartRange.length-t.drawEndRange.length,r=1;r<=i;r++)t.drawEndRange.unshift(n-r)}})})}],scope:{maxItems:"<?quickPaging"},controllerAs:"quickPaging",bindToController:!0,template:s["default"],link:function(e,t,a,n){var i=n[0],r=n[1];r.searchModel=i.searchModel}}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),s=n(r);t["default"]=i},function(e,t){e.exports='<nav aria-label="Page navigation" ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems < quickPaging.searchModel.pageCount.length">\r\n  <ul class="pagination">\r\n  \t<li ng-disabled="quickPaging.searchModel.paging.pageIndex === 0"><a ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex - 1)">&laquo;</a></li>\r\n  \t<li class="startRange" ng-repeat="x in quickPaging.drawStartRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n  \t<li disabled="disabled"><a>...</a></li>\r\n  \t<li class="midRange" ng-repeat="x in quickPaging.drawMidRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n  \t<li disabled="disabled" ng-if="quickPaging.drawMidRange.length > 0"><a>...</a></li>\r\n\t<li class="endRange" ng-repeat="x in quickPaging.drawEndRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n\t<li ng-disabled="(quickPaging.searchModel.paging.pageIndex + 1) === quickPaging.drawEndRange[quickPaging.drawEndRange.length-1]"><a ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex + 1)">&raquo;</a></li>\r\n  </ul>\r\n</nav>\r\n\r\n<div class="btn-group" ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems >= quickPaging.searchModel.pageCount.length">\r\n  <button ng-repeat="x in quickPaging.searchModel.pageCount track by $index" ng-click="quickPaging.searchModel.paging.toPage($index)" ng-disabled="$index === quickPaging.searchModel.paging.pageIndex" class="btn btn-primary btn-sm">{{$index + 1}}</button>\r\n</div>\r\n'},function(e,t){"use strict";function a(e){return{restrict:"A",require:"^quickGrid",link:function(t,a,n,i){var r=n.quickSort,s=angular.element("<span ng-if=\"grid.searchModel.paging.sortBy.toLowerCase().indexOf('"+r.toLowerCase()+'\') === 0"><i class="glyphicon glyphicon-triangle-bottom" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') > -1"></i><i class="glyphicon glyphicon-triangle-top" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') === -1"></i></span>');a.append(e(s)(t)),a.on("click",function(){t.$apply(function(){i.searchModel.paging.sort(r)})})}}}Object.defineProperty(t,"__esModule",{value:!0}),a.$inject=["$compile"],t["default"]=a},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(){function e(t,n){a(this,e),this.value=t,this.operator=n}return n(e,[{key:"setNot",value:function(e){this.not=e}},{key:"toggleNot",value:function(){this.not=!this.not}},{key:"toJSON",value:function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return this.operator+e}}}]),e}(),r={"%":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return"%"+e+"%"}}},"%~":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return"%"+e}}},"~%":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return e+"%"}}},"()":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=[];return this.value.forEach(function(t){e.push(t)}),"("+e.join(",")+")"}}}};Object.keys(r).forEach(function(e){r[e].prototype=i});var s=function(){function e(t){a(this,e),this.sort(t)}return n(e,[{key:"sort",value:function(e){null===e||void 0===e?delete this.sortBy:e===this.sortBy?this.sortBy=e+" desc":this.sortBy=e}},{key:"toPage",value:function(e){e<0||(this.pageIndex=e)}}]),e}(),g=function(){function e(t,n,i){a(this,e),this.model=i||{},this.paging=new s(n),this.pageCount=[],this.filters={},this.callback=t}return n(e,[{key:"watch",value:function(e){return this.scope=e,this.attachOtherWatchers(),this.attachPagingWatch(),this}},{key:"addFilter",value:function(e,t,a){var n=r[t]||i;return this.filters[e]=new n(a,t),this}},{key:"apply",value:function(e){var t=this;this.pagingWatchHandle&&this.pagingWatchHandle(),e&&(this.paging.filterHash=null),this.callback(this).then(function(a){return e&&(t.paging.pageIndex=0),a}).then(this.updatePaging.bind(this)).then(this.attachPagingWatch.bind(this))}},{key:"reset",value:function(e){var t=this;this.modelWatchHandler&&this.modelWatchHandler(),this.filterWatchHandle&&this.filterWatchHandle(),Object.keys(this.filters).forEach(function(e){return t.filters[e].value=void 0}),e&&e(),this.attachOtherWatchers(),this.apply(!0)}},{key:"toQueryString",value:function(){var e=this,t=[],a=0;return Object.keys(this.filters).forEach(function(n){var i=e.filters[n].toJSON();if(void 0!==i){var r=e.filters[n].not?"!":"",s="filters["+a++ +"]";t.push(s+".key="+escape(n)),t.push(s+".value="+escape(r+i))}}),this.model&&Object.keys(this.model).forEach(function(a){var n=e.model[a];void 0!==n&&null!==n&&(n.toJSON&&(n=n.toJSON()),t.push(escape(a)+"="+escape(n)))}),t.push("paging.pageIndex="+(this.paging.pageIndex||0)),t.push("paging.sortBy="+escape(this.paging.sortBy||"")),t.push("paging.filterHash="+escape(this.paging.filterHash||"")),t.join("&")}},{key:"toJSON",value:function(){var e=this,t={paging:this.paging,filters:this.filters};return Object.keys(this.model).forEach(function(a){t[a]=e.model[a]}),t}},{key:"attachOtherWatchers",value:function(){var e=this;this.scope&&(this.modelWatchHandle=this.scope.$watch(function(){return e.model},this.onChange.bind(this),!0),this.filterWatchHandle=this.scope.$watch(function(){return e.filters},this.onChange.bind(this),!0))}},{key:"attachPagingWatch",value:function(){var e=this;this.scope&&(this.pagingWatchHandle=this.scope.$watch(function(){return e.paging},function(t,a){t.sortBy===a.sortBy&&t.pageIndex===a.pageIndex||e.apply(!1)},!0))}},{key:"updatePaging",value:function(e){null!==e.pageCount&&(this.pageCount=Array(e.pageCount)),this.paging.filterHash=e.filterHash}},{key:"onChange",value:function(e,t){e!==t&&this.apply(!0)}}]),e}();t["default"]=function(){return g}}]);
//# sourceMappingURL=ng-quick-grid.min.js.map