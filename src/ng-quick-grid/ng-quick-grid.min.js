!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=a(i),o=n(2),s=a(o),l=n(3),c=a(l),u=n(9),g=a(u),d=n(10),h=a(d);t["default"]=r["default"].module("ngQuickGrid",[]).directive("quickGrid",s["default"]).directive("quickPaging",c["default"]).directive("quickSort",g["default"]).factory("SearchModel",h["default"])},function(e,t){e.exports=angular},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(){return{restrict:"A",scope:!0,controllerAs:"grid",bindToController:!0,controller:["$scope","$element","$attrs",function(e,t,n){this.searchModel=e.$eval(n.gridModel)}],link:function(e,t){var n=o["default"].element(t[0].ownerDocument.querySelector("body")),a=function i(e){console.log(e),t.removeClass("ctrl-hover"),n.off("keyup",i)};t.on("mousemove",function(i){i.ctrlKey?e.$apply(function(){t.hasClass("ctrl-hover")||(t.addClass("ctrl-hover"),n.on("keyup",a))}):(t.removeClass("ctrl-hover"),n.off("keyup",a))}),t.on("mouseout",function(i){for(var r=i.toElement;null!==r&&r!==t[0];)r=r.parentElement;r!==t[0]&&e.$apply(function(){t.removeClass("ctrl-hover"),n.off("keyup",a)})})}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=a(r);t["default"]=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(){return{restrict:"A",require:["^quickGrid","quickPaging"],controller:["$scope",function(e){var t=this;this.maxItems=this.maxItems||10,this.startRange=[],this.endRange=[],this.midRange=[],this.drawStartRange=[],this.drawMidRange=[],this.drawEndRange=[];var n=e.$watch(function(){return t.searchModel},function(a,i){n(),n=null;var r;r=e.$watch(function(){return t.searchModel.pageCount.length},function(e,n){if(e!==n&&e>t.maxItems){t.startRange=[],t.endRange=[];var a,i=Math.floor((t.maxItems-3)/2);for(a=1;a<=i;a++)t.startRange.push(a);var r=e;if(t.maxItems%2===0){var o=e/2;o%1==0?t.midRange=[o-1,o,o+1]:t.midRange=[o-1.5,o-.5,o+.5]}else{var o=e/2;o%1==0?t.midRange=[o-1,o,o+1]:t.midRange=[o-1.5,o-.5,o+.5],r++}for(var a=r-i;a<=e;a++)t.endRange.push(a)}}),e.$watch(function(){return t.searchModel.paging.pageIndex},function(e,n){if(e+=1,t.drawStartRange=t.startRange.slice(0),t.drawEndRange=t.endRange.slice(0),t.drawMidRange=t.midRange.slice(0),!(t.drawStartRange.indexOf(e)>-1||t.drawEndRange.indexOf(e)>-1))if(t.drawStartRange[t.drawStartRange.length-1]!==e-1)if(t.drawEndRange[0]!==e+1)t.drawMidRange.indexOf(e)===-1&&(t.drawMidRange=[e-1,e,e+1]);else{t.drawEndRange.unshift(e),t.drawEndRange.unshift(e-1),t.drawMidRange=[];for(var a=t.drawStartRange[t.drawStartRange.length-1],i=t.maxItems-t.drawStartRange.length-t.drawEndRange.length,r=1;r<=i;r++)t.drawStartRange.push(a+r)}else{t.drawStartRange.push(e),t.drawStartRange.push(e+1),t.drawMidRange=[];for(var a=t.drawEndRange[0],i=t.maxItems-t.drawStartRange.length-t.drawEndRange.length,r=1;r<=i;r++)t.drawEndRange.unshift(a-r)}})})}],scope:{maxItems:"<?quickPaging"},controllerAs:"quickPaging",bindToController:!0,template:o["default"],link:function(e,t,n,a){var i=a[0],r=a[1];r.searchModel=i.searchModel}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=a(r);n(5),t["default"]=i},function(e,t){e.exports='<nav aria-label="Page navigation" ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems < quickPaging.searchModel.pageCount.length">\r\n  <ul class="pagination">\r\n  \t<li ng-disabled="quickPaging.searchModel.paging.pageIndex === 0"><a ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex - 1)">&laquo;</a></li>\r\n  \t<li class="startRange" ng-repeat="x in quickPaging.drawStartRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n  \t<li class="separator" disabled="disabled"><span>...</span></li>\r\n  \t<li class="midRange" ng-repeat="x in quickPaging.drawMidRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n  \t<li class="separator" disabled="disabled" ng-if="quickPaging.drawMidRange.length > 0"><span>...</span></li>\r\n\t<li class="endRange" ng-repeat="x in quickPaging.drawEndRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n\t<li ng-disabled="(quickPaging.searchModel.paging.pageIndex + 1) === quickPaging.drawEndRange[quickPaging.drawEndRange.length-1]"><a ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex + 1)">&raquo;</a></li>\r\n  </ul>\r\n</nav>\r\n\r\n<div class="btn-group" ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems >= quickPaging.searchModel.pageCount.length">\r\n  <button ng-repeat="x in quickPaging.searchModel.pageCount track by $index" ng-click="quickPaging.searchModel.paging.toPage($index)" ng-disabled="$index === quickPaging.searchModel.paging.pageIndex" class="btn btn-primary btn-sm">{{$index + 1}}</button>\r\n</div>\r\n'},function(e,t,n){var a=n(6);"string"==typeof a&&(a=[[e.id,a,""]]);n(8)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"ul.pagination>li:not([disabled]) a{cursor:pointer}ul.pagination li.separator span,ul.pagination li.separator span:hover{border-top-color:transparent;border-bottom-color:transparent}ul.pagination li.separator span:hover{background-color:transparent}","",{version:3,sources:["/./src/src/quick-grid-footer.scss"],names:[],mappings:"AAAA,mCAGY,cAAgB,CAH5B,sEASY,6BACA,+BAAiC,CAMhC,AAhBb,sCAegB,4BAA8B,CACjC",file:"quick-grid-footer.scss",sourcesContent:["ul.pagination {\r\n    > li:not([disabled]) {\r\n        a {\r\n            cursor: pointer;\r\n        }\r\n    }\r\n    \r\n    li.separator {\r\n        span {\r\n            border-top-color: transparent;\r\n            border-bottom-color: transparent;\r\n\r\n            &:hover {\r\n                border-top-color: transparent;\r\n                border-bottom-color: transparent;\r\n                background-color: transparent;\r\n            }\r\n        }\r\n    }        \r\n}"],sourceRoot:"webpack://"}])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(a[r]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=h[a.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](a.parts[r]);for(;r<a.parts.length;r++)i.parts.push(c(a.parts[r],t))}else{for(var o=[],r=0;r<a.parts.length;r++)o.push(c(a.parts[r],t));h[a.id]={id:a.id,refs:1,parts:o}}}}function i(e){for(var t=[],n={},a=0;a<e.length;a++){var i=e[a],r=i[0],o=i[1],s=i[2],l=i[3],c={css:o,media:s,sourceMap:l};n[r]?n[r].parts.push(c):t.push(n[r]={id:r,parts:[c]})}return t}function r(e,t){var n=v(),a=k[k.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),k.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=k.indexOf(e);t>=0&&k.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function c(e,t){var n,a,i;if(t.singleton){var r=m++;n=y||(y=s(t)),a=u.bind(null,n,r,!1),i=u.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),a=d.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),a=g.bind(null,n),i=function(){o(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}function u(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function g(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}var h={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=f(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,m=0,k=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return a(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o],l=h[s.id];l.refs--,r.push(l)}if(e){var c=i(e);a(c,t)}for(var o=0;o<r.length;o++){var l=r[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){"use strict";function n(e){return{restrict:"A",require:"^quickGrid",scope:!0,templateSource:'<span ng-if="grid.searchModel.paging.isSorting(sortBy.toLowerCase()) !== false">        \n            <i class="glyphicon glyphicon-triangle-bottom" ng-if="grid.searchModel.paging.sortBy[grid.searchModel.paging.isSorting(sortBy.toLowerCase())].indexOf(\'desc\') > -1"></i>\n            <i class="glyphicon glyphicon-triangle-top" ng-if="grid.searchModel.paging.sortBy[grid.searchModel.paging.isSorting(sortBy.toLowerCase())].indexOf(\'desc\') === -1"></i>\n            </span>',link:function(t,n,a,i){t.sortBy=a.quickSort;var r=angular.element(this.templateSource);n.append(e(r)(t)),n.on("click",function(e){t.$apply(function(){i.searchModel.paging.sort(t.sortBy,!e.ctrlKey)})}),t.$watch(function(){return t.grid.searchModel.paging.isSorting(t.sortBy.toLowerCase())},function(e){e===!1?(n.removeClass("active"),n.removeClass("active-1"),n.removeClass("active-2"),n.removeClass("active-3")):(n.addClass("active"),n.addClass("active-"+(e+1))),i.searchModel.paging.sortBy.length>=3&&n.addClass("sort-full")})}}}Object.defineProperty(t,"__esModule",{value:!0}),n.$inject=["$compile"],t["default"]=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t,a){n(this,e),this.value=t,this.operator=a}return a(e,[{key:"setNot",value:function(e){this.not=e}},{key:"toggleNot",value:function(){this.not=!this.not}},{key:"toJSON",value:function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return this.operator+e}}}]),e}(),r={"%":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return"%"+e+"%"}}},"%~":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return"%"+e}}},"~%":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return e+"%"}}},"()":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=[];return this.value.forEach(function(t){e.push(t)}),"("+e.join(",")+")"}}}};Object.keys(r).forEach(function(e){r[e].prototype=i});var o=function(){function e(t){n(this,e),this.sort(t)}return a(e,[{key:"sort",value:function(e,t){if(null===e||void 0===e)delete this.sortBy;else{if(!this.sortBy||t){var n=null;if((n=this.isSorting(e.toLowerCase()))!==!1)return this.sortBy[n].length===e.length?void(this.sortBy=[e+" desc"]):void(this.sortBy=[e]);this.sortBy=[]}var a=this.isSorting(e.toLowerCase());a!==!1?this.sortBy[a].length===e.length?this.sortBy[a]=e+" desc":this.sortBy[a]=e:this.sortBy.length<3&&this.sortBy.push(e)}}},{key:"toPage",value:function(e){e<0||(this.pageIndex=e)}},{key:"isSorting",value:function(e){if(!this.sortBy)return!1;var t=!1;return this.sortBy.forEach(function(n,a){n.toLowerCase().indexOf(e)>-1&&(t=a)}),t}}]),e}(),s=function(){function e(t,a,i){n(this,e),this.model=i||{},this.paging=new o(a),this.pageCount=[],this.filters={},this.callback=t}return a(e,[{key:"watch",value:function(e){return this.scope=e,this.attachOtherWatchers(),this.attachPagingWatch(),this}},{key:"addFilter",value:function(e,t,n){var a=r[t]||i;return this.filters[e]=new a(n,t),this}},{key:"apply",value:function(e){var t=this;return this.pagingWatchHandle&&this.pagingWatchHandle(),e&&(this.paging.filterHash=null),this.callback(this).then(function(n){return e&&(t.paging.pageIndex=0),n}).then(this.updatePaging.bind(this)).then(this.attachPagingWatch.bind(this))}},{key:"reset",value:function(e){var t=this;return this.modelWatchHandler&&this.modelWatchHandler(),this.filterWatchHandle&&this.filterWatchHandle(),Object.keys(this.filters).forEach(function(e){return t.filters[e].value=void 0}),e&&e(),this.attachOtherWatchers(),this.apply(!0)}},{key:"toQueryString",value:function(){var e=this,t=[],n=0;Object.keys(this.filters).forEach(function(a){var i=e.filters[a].toJSON();if(void 0!==i){var r=e.filters[a].not?"!":"",o="filters["+n++ +"]";t.push(o+".key="+escape(a)),t.push(o+".value="+escape(r+i))}}),this.model&&Object.keys(this.model).forEach(function(n){var a=e.model[n];void 0!==a&&null!==a&&(a.toJSON&&(a=a.toJSON()),t.push(escape(n)+"="+escape(a)))}),t.push("paging.pageIndex="+(this.paging.pageIndex||0));var a=0;return this.paging.sortBy.forEach(function(e){void 0!==e&&t.push("paging.sortBy["+a++ +"]="+escape(e))}),t.push("paging.filterHash="+escape(this.paging.filterHash||"")),t.join("&")}},{key:"toJSON",value:function(){var e=this,t={paging:this.paging,filters:this.filters};return Object.keys(this.model).forEach(function(n){t[n]=e.model[n]}),t}},{key:"attachOtherWatchers",value:function(){var e=this;this.scope&&(this.modelWatchHandle=this.scope.$watch(function(){return e.model},this.onChange.bind(this),!0),this.filterWatchHandle=this.scope.$watch(function(){return e.filters},this.onChange.bind(this),!0))}},{key:"attachPagingWatch",value:function(){var e=this;this.scope&&(this.pagingWatchHandle=this.scope.$watch(function(){return e.paging},function(t,n){t.sortBy===n.sortBy&&t.pageIndex===n.pageIndex||e.apply(!1)},!0))}},{key:"updatePaging",value:function(e){null!==e.pageCount&&(this.pageCount=Array(e.pageCount)),this.paging.filterHash=e.filterHash}},{key:"onChange",value:function(e,t){e!==t&&this.apply(!0)}}]),e}();t["default"]=function(){return s}}]);
//# sourceMappingURL=ng-quick-grid.min.js.map